{"version":3,"sources":["../newModule.ts"],"names":[],"mappings":"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","file":"newModule.js","sourcesContent":["#! /usr/bin/env node\r\nimport * as fs from 'fs';\r\nimport { spawn } from 'child_process';\r\n\r\n(function (moduleName: string)\r\n{\r\n    if (!moduleName)\r\n    {\r\n        console.error('missing module name');\r\n        return;\r\n    }\r\n\r\n    var modulePath = './modules/' + moduleName;\r\n\r\n    fs.mkdir(modulePath, function (error)\r\n    {\r\n        if (error)\r\n        {\r\n            console.error(error);\r\n            return;\r\n        }\r\n\r\n        fs.writeFile(modulePath + '/.gitignore', 'node_modules\\\r\nbower_components\\\r\n.vscode\\\r\n', function (error)\r\n            {\r\n                if (error)\r\n                {\r\n                    console.error(error);\r\n                    return;\r\n                }\r\n\r\n                spawn('git', ['init'], { cwd: modulePath }).on('exit', function ()\r\n                {\r\n                    spawn('git', ['submodule', 'add', modulePath, modulePath]).on('exit', function ()\r\n                    {\r\n                        fs.mkdir(modulePath + '/src', function (error)\r\n                        {\r\n                            if (error)\r\n                            {\r\n                                console.error(error);\r\n                                return;\r\n                            }\r\n\r\n                            fs.writeFile(modulePath + '/package.json', JSON.stringify({\r\n                                \"name\": moduleName,\r\n                                \"version\": \"1.0.0\",\r\n                                \"description\": \"\",\r\n                                \"main\": \"dist/index.js\",\r\n                                \"scripts\": {\r\n                                    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n                                },\r\n                                \"author\": \"\",\r\n                                \"license\": \"ISC\",\r\n                                \"dependencies\": {},\r\n                                \"typings\": \"dist/index.d.ts\"\r\n                            }\r\n                                , null, 4)\r\n                                , function (error)\r\n                                {\r\n                                    if (error)\r\n                                    {\r\n                                        console.error(error);\r\n                                        return;\r\n                                    }\r\n\r\n                                    fs.mkdir(modulePath + '/src/server', function (error)\r\n                                    {\r\n                                        if (error)\r\n                                        {\r\n                                            console.error(error);\r\n                                            return;\r\n                                        }\r\n\r\n                                        fs.mkdir(modulePath + '/src/client', function (error)\r\n                                        {\r\n\r\n                                            fs.writeFile(modulePath + '/src/server/tsconfig.json', JSON.stringify({\r\n                                                \"compileOnSave\": true,\r\n                                                \"compilerOptions\": {\r\n                                                    \"sourceMap\": true,\r\n                                                    \"experimentalDecorators\": true,\r\n                                                    \"declaration\": true,\r\n                                                    \"moduleResolution\": \"node\",\r\n                                                    \"module\": \"commonjs\",\r\n                                                    \"outDir\": \"dist\"\r\n                                                },\r\n                                                \"exclude\": [\r\n                                                    \"dist\",\r\n                                                    \"node_modules\"\r\n                                                ]\r\n                                            }\r\n                                                , null, 4)\r\n                                                , function (error)\r\n                                                {\r\n                                                    if (error)\r\n                                                    {\r\n                                                        console.error(error);\r\n                                                        return;\r\n                                                    }\r\n\r\n                                                    fs.writeFile(modulePath + '/src/client/tsconfig.json', JSON.stringify({\r\n                                                        \"compileOnSave\": true,\r\n                                                        \"compilerOptions\": {\r\n                                                            \"inlineSourceMap\": true,\r\n                                                            \"experimentalDecorators\": true,\r\n                                                            \"declaration\": true,\r\n                                                            \"moduleResolution\": \"node\",\r\n                                                            \"module\": \"umd\",\r\n                                                            \"target\": \"es6\",\r\n                                                            \"outDir\": \"dist\",\r\n                                                            \"rootDir\": \".\"\r\n                                                        },\r\n                                                        \"exclude\": [\r\n                                                            \"dist\",\r\n                                                            \"node_modules\",\r\n                                                            \"akala/client\"\r\n                                                        ]\r\n                                                    }, null, 4)\r\n                                                        , function (error)\r\n                                                        {\r\n                                                            if (error)\r\n                                                            {\r\n                                                                console.error(error);\r\n                                                                return;\r\n                                                            }\r\n\r\n                                                        });\r\n                                                });\r\n                                        });\r\n                                    });\r\n                                });\r\n                        });\r\n                    });\r\n                });\r\n\r\n            });\r\n    });\r\n\r\n})(process.argv[2])"],"sourceRoot":"core/src/server"}